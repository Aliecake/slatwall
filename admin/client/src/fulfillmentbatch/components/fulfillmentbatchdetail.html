<!--- Expand View --->
<div class="row s-detail-content-wrapper" ng-show="swFulfillmentBatchDetailController.expanded" ng-if="swFulfillmentBatchDetailController.lgFulfillmentBatchItemCollection" ng-cloak>
	<div class="col-xs-12">
		<div class="s-content-header">
			<h2>Fulfillments</h2>
			<span class="pull-right s-compress-icon s-detail-show-content" ng-click="swFulfillmentBatchDetailController.expanded = !swFulfillmentBatchDetailController.expanded">
                <a href="##" class="s-compress-table">
                    <i class="fa fa-compress"></i>
                </a>
            </span>  
		
        <sw-listing-display
			data-collection-config="swFulfillmentBatchDetailController.lgFulfillmentBatchItemCollection"
			data-edit="true"
			data-has-search="true"
			data-record-detail-action="admin:entity.detailfulfillmentBatchItem"
			data-is-angular-route="false"
			data-angular-links="true"
			data-has-action-bar="true" 
			data-persisted-collection-config="true" 
			data-multiselectable="true"
			data-multi-slot="true"
			data-multiselect-field-name="fulfillmentBatchItemID" 
			data-name="fulfillmentBatchItemTable1">
			<sw-listing-columns>
				
			</sw-listing-columns>
		</sw-listing-display>
        </div> 
	</div>
</div>
		
<!--- Shrink View --->
<div class="row s-detail-content-wrapper" ng-show="!swFulfillmentBatchDetailController.expanded" ng-if="swFulfillmentBatchDetailController.smFulfillmentBatchItemCollection"  ng-cloak>
	<div class="col-xs-4">
    	<div class="s-content-header">
		<h2>Fulfillments</h2>
        <a href="##" class="s-expand-table pull-right" ng-click="swFulfillmentBatchDetailController.expanded = !swFulfillmentBatchDetailController.expanded">
            <i class="fa fa-expand"></i>
        </a> 
                        
        <sw-listing-display
			data-collection-config="swFulfillmentBatchDetailController.smFulfillmentBatchItemCollection"
			data-edit="true"
			data-has-search="false"
			data-record-detail-action="admin:entity.detailfulfillmentBatchItem"
			data-is-angular-route="false"
			data-angular-links="true"
			data-has-action-bar="true" 
			data-persisted-collection-config="true" 
			data-multiselectable="true"
			data-multi-slot="true"
			data-multiselect-field-name="fulfillmentBatchItemID" 
			data-name="fulfillmentBatchItemTable2">	
			<sw-listing-columns>
				
			</sw-listing-columns>
		<sw-listing-display>
        </div>
	</div>
	
	<!--- Stuff on this size here --->
	<div class="col-xs-8 ">
		<!--- Need to make this into lg size card and create event connection between listing and directive.  --->
		<div class="s-detail-body s-arrow" ng-show="!swFulfillmentBatchDetailController.currentRecordOrderDetail">Loading Record . . .</div>
        <div class="s-detail-body s-arrow" ng-show="swFulfillmentBatchDetailController.currentRecordOrderDetail">
            <div class="s-content-header">
                <h2>Order #{{swFulfillmentBatchDetailController.currentRecordOrderDetail['order_orderNumber']}}</h2>
                <span class="pull-right">
                    
                    <div class="btn-toolbar" role="toolbar"> 
                        <div class="btn-group" role="group"> 
                            <button class="btn btn-xs btn-default" role="button" data-toggle="collapse" data-target="##j-comments" aria-expanded="false" aria-controls="j-comments">{{swFulfillmentBatchDetailController.commentsCollection.length || 0}} <i class="fa fa-comment"></i></button>
                        </div> 
                        
                        <div class="btn-group">
                            <button type="button" class="btn btn-default btn-xs dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                <i class="fa fa-print"></i>
                            </button>
                            <ul class="dropdown-menu">
                                <li><a href="#">Picking List</a></li>
                                <li><a href="#">Standard Packing List</a></li>
                            </ul>
                        </div>
                        
                        <div class="btn-group">
                            <button type="button" class="btn btn-default btn-xs dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                <i class="fa fa-envelope"></i>
                            </button>
                            <ul class="dropdown-menu">
                                <li><a href="##">Cancellation</a></li>
                                <li><a href="##">Confirmation</a></li>
                                <li><a href="##">Order Stutus</a></li>
                            </ul>
                        </div>
                        
                        <div class="btn-group" role="group"> 
                            <button class="btn btn-xs btn-default s-remove"><i class="fa fa-trash"></i></button>
                        </div> 
                        
                        <div class="btn-group s-btn-dropdown" role="group"> 
                            <button type="button" class="btn btn-primary btn-xs">
		                    	<span><span ng-if="swFulfillmentBatchDetailController.currentRecordOrderDetail['orderFulfillmentStatusType_typeName'] == 'Unfulfilled' && swFulfillmentBatchDetailController.currentRecordOrderDetail['order_paymentAmountDue'] > 0">Capture &amp;</span> Fulfill</span> 
		                    </button>
                            <ul class="dropdown-menu" role="menu">
								<li><a href="##">Fulfill</a></li>
		                    </ul>
                            <button type="button" class="btn btn-primary s-btn-select btn-xs" data-toggle="dropdown">
								<span class="caret"></span>
		                    </button>
                        </div>
                         
                    </div>
                </span>
            </div>
            
            <!--- Handle displaying / adding and deleting comments on the fulfillment item. --->
            <ul class="collapse s-item-comments list-unstyled" id="j-comments"> 
                <li class="s-comment-item" ng-repeat="comment in swFulfillmentBatchDetailController.commentsCollection">
                    <div class="s-info">
                        <span class="s-user">
                            <a href="">Reinaldo Solares</a>
                        </span>
                        <span class="s-date"> {{comment.createdDateTime}} <!--10 hours ago---></span>
                        <!--- Should only be able to edit own comments. --->
                        <span class="s-actions">
                            <a href="##" type="button"><i class="fa fa-remove"></i></a>
                            <a href="##" type="button"><i class="fa fa-pencil"></i></a>
                        </span>
                    </div>
                    <p>{{comment.comment}}</p>
                </li>
                
                <li class="s-comment-item">
                    <textarea class="form-control" name="name" rows="3" cols=""></textarea>
                    <button class="btn btn-sm btn-primary">Add Comment</button>
                </li>
                
            </ul>
            <!--- Handle displaying Order Information. --->
            <div class="s-item-detail">
                
                <!--- Item Header --->
                <div class="s-item-detail-header">
                    <div class="col-xs-4">
                        <div class="s-item-detail-header-block">
                            <h4>Basic</h4>
                            <ul class="list-unstyled">
                                <li>
                                    <div class="row s-line-item">
                                        <div class="col-xs-5 s-title">Account:</div>
                                        <div class="col-xs-7 s-value"><a href="/?slatAction=entity.detailaccount&accountID={{swFulfillmentBatchDetailController.currentRecordOrderDetail['order_account_accountID']}}">{{swFulfillmentBatchDetailController.currentRecordOrderDetail['order_account_firstName']}} {{swFulfillmentBatchDetailController.currentRecordOrderDetail['order_account_lastName']}}</a></div>
                                    </div>
                                </li>        
                                <li>
                                    <div class="row s-line-item">
                                        <div class="col-xs-5 s-title">Date Placed:</div>
                                        <div class="col-xs-7 s-value">{{swFulfillmentBatchDetailController.currentRecordOrderDetail['order_orderOpenDateTime']}}</div>
                                    </div>
                                </li>        
                            </ul>
                        </div>
                    </div>
                    <div class="col-xs-4">
                        <div class="s-item-detail-header-block">
                            <h4>Payment</h4>
                            <ul class="list-unstyled">
                                <li>
                                    <div class="row s-line-item">
                                        <div class="col-xs-5 s-title">Original Total:</div>
                                        <div class="col-xs-7 s-value">{{swFulfillmentBatchDetailController.currentRecordOrderDetail['order_calculatedTotal']|currency}}</div>
                                    </div>
                                </li>        
                                <li>
                                    <div class="row s-line-item">
                                        <div class="col-xs-5 s-title">Balance Due:</div>
                                        <div class="col-xs-7 s-value">{{swFulfillmentBatchDetailController.currentRecordOrderDetail['order_paymentAmountDue']|currency}}</div>
                                    </div>
                                </li>            
                            </ul>
                        </div>
                    </div>
                    <div class="col-xs-4">
                        <div class="s-item-detail-header-block">
                            <h4>Shipping</h4>
                            <ul class="list-unstyled">
                                <li>
                                    <div class="row s-line-item">
                                        <div class="col-xs-5 s-title">Method:</div>
                                        <div class="col-xs-7 s-value">{{swFulfillmentBatchDetailController.currentRecordOrderDetail['shippingMethod_shippingMethodName']}}</div>
                                    </div>
                                </li>        
                                <li>
                                    <div class="row s-line-item">
                                        <div class="col-xs-5 s-title">Location:</div>
                                        <div class="col-xs-7 s-value">
                                            <div class="s-city-state">{{swFulfillmentBatchDetailController.currentRecordOrderDetail['shippingAddress_city']}} {{swFulfillmentBatchDetailController.currentRecordOrderDetail['shippingAddress_stateCode']|uppercase}}.</div>
                                        </div>
                                    </div>
                                </li>             
                            </ul>
                        </div>
                    </div>
                </div>
                <!--- //Item Header --->
                
            </div>
        </div>
	</div>
</div>