<div class="row s-detail-content-wrapper">
    
    <!-- These will not contain any real markup -->
    <div ng-transclude="columns"></div>
    <div ng-transclude="collectionConfigs"></div>
    <div ng-transclude="expandableRules"></div>
    <!-------------------------------------------->
    
    <!-- The s-shrink-view class can be removed to show expanded view -->
    <div class="col-xs-12 s-results-listing">
        <div class="s-detail-body">
            <div class="s-content-header" data-ng-if="swMultiListingDisplay.title">
                <h2 data-ng-bind="swMultiListingDisplay.title"></h2>
                <!--<span class="pull-right s-expand-icon s-detail-show-content">-->
                    <!--<a href="##" class="s-expand-table">-->
                        <!--<i class="fa fa-expand"></i>-->
                    <!--</a>-->
                <!--</span>-->
                <!--<span class="pull-right s-compress-icon s-detail-show-content">-->
                    <!--<a href="##" class="s-compress-table">-->
                        <!--<i class="fa fa-compress"></i>-->
                    <!--</a>-->
                <!--</span>-->
            </div>
            <sw-listing-controls
                    data-collection-config="swMultiListingDisplay.collectionConfig"
                    data-get-collection="swMultiListingDisplay.getCollection"
                    data-paginator="swMultiListingDisplay.paginator"
                    data-ng-if="swMultiListingDisplay.hasSearch !== false">

            </sw-listing-controls>
            <div class="s-detail-notifications s-detail-hidden-content" data-ng-if="swMultiListingDisplay.hasActionBar !== false">
                <div class="row">
                    <div class="col-sm-8 s-message">
                        <span data-ng-if="!swMultiListingDisplay.isRadio && swMultiListingDisplay.isCurrentPageRecordsSelected && !swMultiListingDisplay.allSelected">
                            <span>All <b data-ng-bind="swMultiListingDisplay.collectionData.pageRecords.length"></b> items on this page are selected.</span>
                            <a href data-ng-click="swMultiListingDisplay.selectAll()">Select all <b data-ng-bind="swMultiListingDisplay.paginator.getRecordsCount()"></b> items</span></a>
                        </span>

                        <span data-ng-if="!swMultiListingDisplay.isRadio && (!swMultiListingDisplay.isCurrentPageRecordsSelected ||swMultiListingDisplay.isCurrentPageRecordsSelected  && swMultiListingDisplay.allSelected)&& swMultiListingDisplay.multiselectable && swMultiListingDisplay.multiselectCount > 0">
                            <span><b data-ng-bind="swMultiListingDisplay.multiselectCount"></b> items are selected.</span>
                            <a href data-ng-click="swMultiListingDisplay.clearSelection()">Clear selections?</a>
                        </span>

                    </div>
                    <div class="col-sm-4" style="text-align:right;">
                        <div class="btn-toolbar" style="margin:0">
                            <!--<div class="btn-group btn-group-xs">-->
                                <!--<button class="btn dropdown-toggle btn-primary" data-toggle="dropdown"><i class="fa fa-print"></i></button>-->
                                <!--<ul class="dropdown-menu pull-right">-->
                                    <!--<li>-->
                                        <!--<a href="##" target="_self">Order Confirmation</a>-->
                                        <!--<a href="##" target="_self">Order Status</a>-->
                                        <!--<a href="##" target="_self">...</a>-->
                                    <!--</li>-->
                                <!--</ul>-->
                            <!--</div>-->
                            <!--<div class="btn-group btn-group-xs">-->
                                <!--<button class="btn dropdown-toggle btn-primary" data-toggle="dropdown"><i class="fa fa-envelope"></i></button>-->
                                <!--<ul class="dropdown-menu pull-right">-->
                                    <!--<li>-->
                                        <!--<a href="##" target="_self">Order Confirmation</a>-->
                                        <!--<a href="##" target="_self">Order Status</a>-->
                                        <!--<a href="##" target="_self">...</a>-->
                                    <!--</li>-->
                                <!--</ul>-->
                            <!--</div>-->
                            <div class="btn-group btn-group-xs">
                                <button class="btn dropdown-toggle btn-primary" data-toggle="dropdown">Action <span class="caret"></span></button>
                                <ul class="dropdown-menu pull-right">
                                    <li>
                                        <a href data-ng-click="swMultiListingDisplay.exportCurrentList()">Export</a>
                                    </li>
                                    <li>
                                        <a href
                                           data-ng-click="swMultiListingDisplay.exportCurrentList(true)"
                                           data-ng-if="swMultiListingDisplay.multiselectable && swMultiListingDisplay.multiselectCount > 0">
                                            Export Selected Rows ({{swMultiListingDisplay.multiselectCount}})
                                        </a>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="table-responsive">
                <table class="table table-bordered s-detail-content-table">
                    <thead>
                        <tr>
                            <!-- Selectable -->
                            <input data-ng-if-start="swMultiListingDisplay.selectable" type="hidden" data-ng-attr-name="{{swMultiListingDisplay.selectFieldName}}" data-ng-value="swMultiListingDisplay.selectValue" />
                            <th data-ng-if-end class="select" data-ng-class="{'disabled':!swMultiListingDisplay.edit}" data-ng-bind="swMultiListingDisplay.selectTitle"></th>
                            <!-- Multiselectable -->
                            <input data-ng-if-start="swMultiListingDisplay.multiselectable" type="hidden" data-ng-attr-name="{{swMultiListingDisplay.multiselectFieldName}}" data-ng-value="swMultiListingDisplay.multiselectValues.toString()" />
                            <th data-ng-if-end class="multiselect s-table-checkbox s-detail-hidden-content" data-ng-class="{'multiselect':1===1,'disabled':!swMultiListingDisplay.edit}">
                            <div class="s-checkbox" data-ng-if="!swMultiListingDisplay.isRadio">
                                    <input type="checkbox" id="exampleID" data-ng-model="swMultiListingDisplay.isCurrentPageRecordsSelected" data-ng-click="swMultiListingDisplay.selectCurrentPageRecords()">
                                    <label for="exampleID"></label>
                                </div>
                            </th>
                            <!-- Sortable -->
                            <th class="sort" data-ng-if="swMultiListingDisplay.sortable">&nbsp;</th>
                            <!-- TODO: CREATE FLAG IN COLUMN TO SET CLASS 's-detail-hidden-content'-->
                            <th data-ng-repeat="column in swMultiListingDisplay.columns" class="data {{column.tdClass}}" data-ng-class="{'s-detail-hidden-content': column.CHANGE_THIS_LATER}" data-ng-if="column.isVisible" data-ng-click="swMultiListingDisplay.toggleOrderBy(column)" ng-cloak>
                                <span data-ng-bind="column.title" style="cursor: pointer"></span>
                                <a href data-ng-if="!(column.persistent == false)" class="s-sort-arrows">
                                    <svg class="nc-icon outline" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="20px" height="20px" viewBox="0 0 64 64">
                                        <g transform="translate(0.5, 0.5)">
                                            <polygon class="s-ascending" data-ng-class="{'s-active':swMultiListingDisplay.columnOrderBy(column) == 'DESC'}" fill="none" stroke="#cccccc" stroke-width="3" stroke-linecap="square" stroke-miterlimit="10" points="20,26 44,26 32,12 " stroke-linejoin="round"></polygon>
                                            <polygon class="s-descending" data-ng-class="{'s-active':swMultiListingDisplay.columnOrderBy(column) == 'ASC'}" fill="none" stroke="#cccccc" stroke-width="3" stroke-linecap="square" stroke-miterlimit="10" points="44,38 20,38 32,52 " stroke-linejoin="round"></polygon>
                                        </g>
                                    </svg>
                                </a>
                            </th>
                            <th class="s-detail-hidden-content">
                            </th>
                        </tr>
                    </thead>
                    <tbody data-ng-if="swMultiListingDisplay.collectionData.pageRecords">

                        <tr data-ng-repeat="(pageRecordKey, pageRecord) in swMultiListingDisplay.collectionData.pageRecords"
                            data-ng-if="pageRecord.dataIsVisible !== false"
                            data-ng-class="{{swMultiListingDisplay.getNGClassObjectForPageRecordRow(pageRecord)}}">

                            <!--Selectable/Multiselectable-->
                            <td ng-if="swMultiListingDisplay.selectable || swMultiListingDisplay.multiselectable"
                            	ng-class="{'s-table-select':swMultiListingDisplay.selectable,'s-table-checkbox':swMultiListingDisplay.multiselectable}"
                            >
                            	<!--selectable-->
                            	<a href="#"
                            		ng-if="swMultiListingDisplay.selectable"
                                   data-ng-class="(!swMultiListingDisplay.edit) ? 'table-action-selectdisabled':'table-action-select'"
                                   data-idvalue="pageRecord[swMultiListingDisplay.exampleEntity.$$getIDName()]">

                                    <i class="hibachi-ui-radio"></i>
                                </a>

                                <!--multiselectable-->
                                <sw-selection
                                		ng-if="swMultiListingDisplay.multiselectable"
                                        data-id="pageRecord[swMultiListingDisplay.exampleEntity.$$getIDName()]"
                                        data-is-radio="swMultiListingDisplay.isRadio"
                                        data-selectionid="{{swMultiListingDisplay.name || 'ListingDisplay'}}"
                                        data-selection="pageRecord[swMultiListingDisplay.exampleEntity.$$getIDName()]"
                                        data-name="{{swMultiListingDisplay.multiselectFieldName+'selection'}}"
                                        data-disabled="swMultiListingDisplay.edit === false">
                                </sw-selection>
                            </td>

                            <!--cell contents -->
							<td
                                    data-ng-repeat="(key,column) in swMultiListingDisplay.columns"
                                    class="{{column.tdclass}}"
                                    data-ng-cloak
                                    data-ng-if="column.isVisible"

                                    sw-expandable-record

                                    data-action="column.action"
                                    data-query-string="column.queryString"
                                    data-expandable="(swMultiListingDisplay.getPageRecordMatchesExpandableRule(pageRecord) || swMultiListingDisplay.expandable) && (column.tdclass && column.tdclass === 'primary')"
                                    data-auto-open="swMultiListingDisplay.expandableOpenRoot"
                                    data-link="{{$root.buildUrl(swMultiListingDisplay.recordEditAction,swMultiListingDisplay.recordEditQueryString)+'&'+swMultiListingDisplay.exampleEntity.$$getIDName()+'='+pageRecord[swMultiListingDisplay.exampleEntity.$$getIDName()]}}"
                                    data-record-value="pageRecord[swMultiListingDisplay.getPageRecordKey(column.propertyIdentifier)]"
                                    data-parent-id="pageRecord[swMultiListingDisplay.exampleEntity.$$getIDName()]"
                                    data-child-count="pageRecord[swMultiListingDisplay.childPropertyName+'Count']"
                                    data-entity="swMultiListingDisplay.getExampleEntityForExpandableRecord(pageRecord)"
                                    data-collection-config="swMultiListingDisplay.collectionConfig"
                                    data-child-collection-config="swMultiListingDisplay.getPageRecordChildCollectionConfigForExpandableRule(pageRecord)"
                                    data-page-record="pageRecord"
                                    data-records="swMultiListingDisplay.collectionData.pageRecords || swMultiListingDisplay.collectionData.records"
                                    data-record-index="pageRecordKey"
                                    data-record-depth="pageRecord.depth"
                                    data-multiselect-id-paths="swMultiListingDisplay.multiselectIdPaths"
                                    data-expandable-rules="swMultiListingDisplay.expandableRules"
                                    
                            >
                            	<sw-listing-display-cell
                            		data-column="column"
                            		data-sw-listing-display="swMultiListingDisplay"
                            		data-page-record="pageRecord"
                                    data-cell-view="{{column.cellView}}"
                                    data-expandable-rules="swMultiListingDisplay.expandableRules"
                            	>

                            	</sw-listing-display-cell>
							</td>

                            <!--Expandable Check-->
                            <!--<td
                                    data-ng-repeat="(key,column) in swMultiListingDisplay.columns"
                                    class="column.tdclass"
                                    data-ng-cloak
                                    data-ng-if="column.isVisible"
                                    sw-expandable-record
                                    data-action="column.action"
                                    data-query-string="column.queryString"
                                    data-expandable="swMultiListingDisplay.expandable && column.tdclass && column.tdclass === 'primary' "
                                    data-auto-open="swMultiListingDisplay.expandableOpenRoot"
                                    data-link="{{$root.buildUrl(swMultiListingDisplay.recordEditAction,swMultiListingDisplay.recordEditQueryString)+'&'+swMultiListingDisplay.exampleEntity.$$getIDName()+'='+pageRecord[swMultiListingDisplay.exampleEntity.$$getIDName()]}}"
                                    data-record-value="pageRecord[swMultiListingDisplay.getPageRecordKey(column.propertyIdentifier)]"
                                    data-parent-id="pageRecord[swMultiListingDisplay.exampleEntity.$$getIDName()]"
                                    data-child-count="pageRecord[swMultiListingDisplay.childPropertyName+'Count']"
                                    data-entity="swMultiListingDisplay.exampleEntity"
                                    data-collection-config="swMultiListingDisplay.collectionConfig"
                                    data-records="swMultiListingDisplay.collectionData.pageRecords || swMultiListingDisplay.collectionData.records"
                                    data-record-index="pageRecordKey"
                                    data-record-depth="pageRecord.depth"
                                    data-multiselect-id-paths="swMultiListingDisplay.multiselectIdPaths"
                                    >

                                <a 	ng-if="swMultiListingDisplay.expandable && column.tdclass && column.tdclass === 'primary'" class="s-contents-page-title s-no-arrow"
                                      href="{{$root.buildUrl(swMultiListingDisplay.recordEditAction,swMultiListingDisplay.recordEditQueryString)+'&'+swMultiListingDisplay.exampleEntity.$$getIDName()+'='+pageRecord[swMultiListingDisplay.exampleEntity.$$getIDName()]}}">
                                    <span style="margin-left:{{(pageRecord.depth*40)||0}}px;padding-left: 12px;"
                                          ng-bind="pageRecord[swMultiListingDisplay.getPageRecordKey(column.propertyIdentifier)]"
                                          popover="{{swMultiListingDisplay.replaceStringWithProperties(column.tooltip, pageRecord)}}"
                                          popover-trigger="mouseenter"
                                          popover-placement="bottom"
                                          popover-popup-delay="50"
                                          popover-append-to-body="true"
                                          sw-tool-tip>
                                    </span>
                                </a>

					            <span ng-if="!swMultiListingDisplay.expandable || !column.tdclass || column.tdclass !== 'primary'">
                                    <span ng-if="(!column.action || !column.queryString) && (!column.type || column.type==='none')"
                                          ng-bind="pageRecord[swMultiListingDisplay.getPageRecordKey(column.propertyIdentifier)]"
                                          popover="{{swMultiListingDisplay.replaceStringWithProperties(column.tooltip, pageRecord)}}"
                                          popover-trigger="mouseenter"
                                          popover-placement="bottom"
                                          popover-popup-delay="50"
                                          popover-append-to-body="true">
                                    </span>
                                    <span ng-if="(!column.action || !column.queryString) && column.type==='date'"
                                          ng-bind="pageRecord[swMultiListingDisplay.getPageRecordKey(column.propertyIdentifier)] | swdate:'MM/dd/yyyy'"
                                          popover="{{swMultiListingDisplay.replaceStringWithProperties(column.tooltip, pageRecord)}}"
                                          popover-trigger="mouseenter"
                                          popover-placement="bottom"
                                          popover-popup-delay="50"
                                          popover-append-to-body="true">
                                    </span>
                                    <span ng-if="(!column.action || !column.queryString) && column.type==='currency'"
                                          ng-bind-html="pageRecord[swMultiListingDisplay.getPageRecordKey(column.propertyIdentifier)] | swcurrency"
                                          popover="{{swMultiListingDisplay.replaceStringWithProperties(column.tooltip, pageRecord)}}"
                                          popover-trigger="mouseenter"
                                          popover-placement="bottom"
                                          popover-popup-delay="50"
                                          popover-append-to-body="true">
                                    </span>-->
                                    <!--Hardcoded to USD for phia-->
                                    <!--<span ng-if="column.aggregate"
                                          ng-bind="pageRecord[swMultiListingDisplay.getPageRecordKey(column.aggregate.aggregateAlias)]"
                                          popover="{{swMultiListingDisplay.replaceStringWithProperties(column.tooltip, pageRecord)}}"
                                          popover-trigger="mouseenter"
                                          popover-placement="bottom"
                                          popover-popup-delay="50"
                                          popover-append-to-body="true">
                                    </span>
                                    <sw-action-caller ng-if="column.action && column.queryString"
                                                      data-action="{{column.action}}"
                                                      data-query-string="{{swMultiListingDisplay.replaceStringWithProperties(column.queryString,pageRecord)}}"
                                                      data-text="{{pageRecord[swMultiListingDisplay.getPageRecordKey(column.propertyIdentifier)]}}"
                                                      data-tooltip-text="{{swMultiListingDisplay.replaceStringWithProperties(column.tooltip, pageRecord)}}"

                                    >
                                    </sw-action-caller>
					            </span>
                            </td>-->


                            <td class="admin admin{{swMultiListingDisplay.administrativeCount}} s-detail-hidden-content" data-ng-if="swMultiListingDisplay.administrativeCount">
                                <!-- Detail -->
                                <sw-action-caller
                                        ng-if="swMultiListingDisplay.recordDetailAction && swMultiListingDisplay.recordDetailAction.length && angular.isDefined(pageRecord[swMultiListingDisplay.exampleEntity.$$getIDName()])"
                                        data-action="{{swMultiListingDisplay.recordDetailAction}}"
                                        data-query-string="{{'&'+swMultiListingDisplay.exampleEntity.$$getIDName()+'='+pageRecord[swMultiListingDisplay.exampleEntity.$$getIDName()]+swMultiListingDisplay.recordDetailQueryString}}"
                                        data-class="btn btn-default btn-xs"
                                        data-icon="eye-open"
                                        data-iconOnly="true"
                                        data-modal="swMultiListingDisplay.recordDetailModal"
                                        data-is-angular-route="swMultiListingDisplay.isAngularRoute"
                                >
                                </sw-action-caller>
                                
                                <div ng-transclude="detailAction"></div>

                                <!--Edit-->
                                <sw-action-caller
                                        ng-if="swMultiListingDisplay.recordEditAction && swMultiListingDisplay.recordEditAction.length && angular.isDefined(pageRecord[swMultiListingDisplay.exampleEntity.$$getIDName()])"
                                        data-action="{{swMultiListingDisplay.recordEditAction}}"
                                        data-query-string="{{'&'+swMultiListingDisplay.exampleEntity.$$getIDName()+'='+pageRecord[swMultiListingDisplay.exampleEntity.$$getIDName()]+swMultiListingDisplay.recordDetailQueryString}}"
                                        data-class="btn btn-default btn-xs"
                                        data-icon="pencil"
                                        data-iconOnly="true"
                                        data-modal="swMultiListingDisplay.recordEditModal"
                                        data-is-angular-route="swMultiListingDisplay.isAngularRoute"
                                >
                                </sw-action-caller>
                                
                                <div ng-transclude="editAction"></div>

                                <!-- Delete -->
                                <sw-action-caller
                                        ng-if="swMultiListingDisplay.recordDeleteAction && swMultiListingDisplay.recordDeleteAction.length && angular.isDefined(pageRecord[swMultiListingDisplay.exampleEntity.$$getIDName()])"
                                        data-action="{{swMultiListingDisplay.recordDeleteAction}}"
                                        data-query-string="{{'&'+swMultiListingDisplay.exampleEntity.$$getIDName()+'='+pageRecord[swMultiListingDisplay.exampleEntity.$$getIDName()]+swMultiListingDisplay.recordDetailQueryString}}"
                                        data-class="btn btn-default btn-xs"
                                        data-icon="trash"
                                        data-iconOnly="true"
                                        data-confirm="true"
                                        data-is-angular-route="swMultiListingDisplay.isAngularRoute"
                                >
                                </sw-action-caller>
                                
                                <div ng-transclude="deleteAction"></div>

                                <!-- Add -->
                                <sw-action-caller
                                        ng-if="swMultiListingDisplay.recordAddAction && swMultiListingDisplay.recordAddAction.length && angular.isDefined(pageRecord[swMultiListingDisplay.exampleEntity.$$getIDName()])"
                                        data-action="{{swMultiListingDisplay.recordAddAction}}"
                                        data-query-string="{{'&'+swMultiListingDisplay.parentPropertyName+'ID='+pageRecord[swMultiListingDisplay.exampleEntity.$$getIDName()]+swMultiListingDisplay.recordAddQueryString}}"
                                        data-class="btn btn-default btn-xs"
                                        data-icon="plus"
                                        data-iconOnly="true"
                                        data-confirm="true"
                                        data-is-angular-route="swMultiListingDisplay.isAngularRoute"
                                >
                                </sw-action-caller>
                                
                                <div ng-transclude="addAction"></div>

                                <sw-action-caller
                                        ng-repeat="action in swMultiListingDisplay.actions"
                                        data-action="{{action.action}}"
                                        data-query-string="{{swMultiListingDisplay.replaceStringWithProperties(action.queryString,pageRecord)}}"
                                        data-class="{{action.tdclass}}"
                                        data-icon="{{action.icon}}"
                                        data-iconOnly="{{action.iconOnly}}"
                                        data-confirm="action.confirm"
                                        data-is-angular-route="swMultiListingDisplay.isAngularRoute"
                                >
                                </sw-action-caller>
                            </td>

                        </tr>

                    </tbody>
                </table>
            </div>
        </div>
        <sw-pagination-bar
                data-ng-if="swMultiListingDisplay.paginator && swMultiListingDisplay.collectionData.recordsCount && swMultiListingDisplay.collectionPromise.$$state.status !== 0"
                data-paginator="swMultiListingDisplay.paginator">
        </sw-pagination-bar>
    </div>
    <div class="col-xs-8 s-results-detail">
    </div>
</div>
